{"ast":null,"code":"import _objectSpread from\"/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Redirect,Link}from'react-router-dom';import{userRoutines,updateRoutine,deleteRoutine,addActivityToRoutine,updateRoutineActivity,deleteRoutineActivity}from'../api';import EditRoutine from'./editroutine';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MyRoutines=function MyRoutines(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),theUserRoutines=_useState2[0],setTheUserRoutines=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),activityId=_useState4[0],setActivityId=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),durationCount=_useState6[0],setDurationCount=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),routineId=_useState8[0],setRoutineId=_useState8[1];// const [showEdit, setShowEdit] = useState(false);\n// const [hack, setHack] = useState(1)\nvar loggedIn=props.loggedIn,currentUser=props.currentUser,activities=props.activities;// console.log('trap',theUserRoutines)\nconsole.log('dddd',activityId);// const makeEdit = async () => {\n//     setShowEdit(true)\n// }\nvar handleUpdate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(name,goal,id){var routines;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return updateRoutine(name,goal,id);case 3:routines=_context.sent;window.location.reload();_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error;case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function handleUpdate(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var handleDeleteRoutine=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var routines;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return deleteRoutine(id);case 3:routines=_context2.sent;window.location.reload();_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function handleDeleteRoutine(_x4){return _ref2.apply(this,arguments);};}();var handleActivityAdd=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var duration,count,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:event.preventDefault();duration=durationCount.duration,count=durationCount.count;_context3.prev=2;_context3.next=5;return addActivityToRoutine(routineId,activityId,count,duration);case 5:response=_context3.sent;if(response.id){_context3.next=8;break;}return _context3.abrupt(\"return\",alert('Error'));case 8:setRoutineId(null);setDurationCount(null);setActivityId(null);window.location.reload();_context3.next=17;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](2);console.error(_context3.t0);case 17:case\"end\":return _context3.stop();}}},_callee3,null,[[2,14]]);}));return function handleActivityAdd(_x5){return _ref3.apply(this,arguments);};}();var handleActivityUpdate=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(routineId,count,duration){var routines;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return updateRoutineActivity(routineId,count,duration);case 3:routines=_context4.sent;window.location.reload();_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.error(_context4.t0);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function handleActivityUpdate(_x6,_x7,_x8){return _ref4.apply(this,arguments);};}();var handleActivityDelete=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){var activity;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return deleteRoutineActivity(id);case 3:activity=_context5.sent;window.location.reload();_context5.next=10;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);console.error(_context5.t0);case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function handleActivityDelete(_x9){return _ref5.apply(this,arguments);};}();var getUserRoutines=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var routines;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!(!currentUser||!activities)){_context6.next=2;break;}return _context6.abrupt(\"return\");case 2:_context6.prev=2;_context6.next=5;return userRoutines(currentUser);case 5:routines=_context6.sent;// console.log('hhhh', routines)\nsetTheUserRoutines(routines);// console.log('pop',theUserRoutines)\n_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](2);console.error(_context6.t0);case 12:case\"end\":return _context6.stop();}}},_callee6,null,[[2,9]]);}));return function getUserRoutines(){return _ref6.apply(this,arguments);};}();useEffect(getUserRoutines,[currentUser,activities]);if(!loggedIn){alert('Log in to view My Routines');return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"myroutinestitle\",children:\"My Routines\"}),/*#__PURE__*/_jsx(\"div\",{className:\"myroutines\",children:theUserRoutines?theUserRoutines.map(function(routine,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"myroutinecell\",children:[/*#__PURE__*/_jsx(\"h2\",{children:routine.name}),/*#__PURE__*/_jsx(\"h3\",{children:routine.goal}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"edit\",onClick:function onClick(){return handleUpdate(routine.name,routine.goal,routine.id);},children:\"Edit Routine Name or Goal\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"delete\",onClick:function onClick(){return handleDeleteRoutine(routine.id);},children:\"Delete Routine\"}),routine.activities[0]?routine.activities.map(function(activity,index){return/*#__PURE__*/_jsxs(\"ul\",{className:\"details\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"Activity: \",activity.name]}),\" \"]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"ID: \",activity.routineActivityId]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Description: \",activity.description,\" \"]})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" Duration: \",activity.duration]}),\" \"]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Count: \",activity.count,\" \"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return handleActivityUpdate(activity.routineActivityId,activity.duration,activity.count);},children:\"Update Duration or Count\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return handleActivityDelete(activity.routineActivityId);},children:\"Delete Routine Activity\"})]},index);}):/*#__PURE__*/_jsx(\"h3\",{children:\"No activities for this routine\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleActivityAdd,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Add Routine Activity:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"Activities\",id:\"selectactivity\",value:activityId,onChange:function onChange(event){setRoutineId(routine.id);setActivityId(event.target.value);return;},children:[/*#__PURE__*/_jsx(\"option\",{className:\"dropdown\",value:\"null\",children:\"Select Activity\"}),activities.map(function(activity,index){return/*#__PURE__*/_jsx(\"option\",{value:activity.id,children:activity.name},index);})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Count:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",placeholder:\"Count\",onChange:function onChange(event){return setDurationCount(_objectSpread(_objectSpread({},durationCount),{},{count:event.target.value}));}}),/*#__PURE__*/_jsx(\"label\",{children:\"Duration:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",placeholder:\"Duration\",onChange:function onChange(event){return setDurationCount(_objectSpread(_objectSpread({},durationCount),{},{duration:event.target.value}));}}),/*#__PURE__*/_jsx(\"button\",{className:\"addroutine\",type:\"submit\",children:\"Submit\"})]})]},index);}):/*#__PURE__*/_jsx(\"h2\",{children:\"No routines made by you\"})})]});}};export default MyRoutines;","map":{"version":3,"sources":["/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/src/components/myroutines.js"],"names":["React","useState","useEffect","Redirect","Link","userRoutines","updateRoutine","deleteRoutine","addActivityToRoutine","updateRoutineActivity","deleteRoutineActivity","EditRoutine","MyRoutines","props","theUserRoutines","setTheUserRoutines","activityId","setActivityId","durationCount","setDurationCount","routineId","setRoutineId","loggedIn","currentUser","activities","console","log","handleUpdate","name","goal","id","routines","window","location","reload","error","handleDeleteRoutine","handleActivityAdd","event","preventDefault","duration","count","response","alert","handleActivityUpdate","handleActivityDelete","activity","getUserRoutines","map","routine","index","routineActivityId","description","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Redirect, Link} from 'react-router-dom'\nimport {userRoutines, updateRoutine, deleteRoutine, addActivityToRoutine, updateRoutineActivity, deleteRoutineActivity} from '../api'\nimport EditRoutine from './editroutine'\nconst MyRoutines = (props) => {\n\n    const [theUserRoutines, setTheUserRoutines] = useState([]);\n    const [activityId, setActivityId] = useState();\n    const [durationCount, setDurationCount] = useState();\n    const [routineId, setRoutineId] = useState();\n\n    // const [showEdit, setShowEdit] = useState(false);\n    // const [hack, setHack] = useState(1)\n\n    const {loggedIn, currentUser, activities} = props;\n\n    // console.log('trap',theUserRoutines)\n\n    console.log('dddd', activityId)\n\n    // const makeEdit = async () => {\n    //     setShowEdit(true)\n    // }\n\n    const handleUpdate = async (name, goal, id) => {\n        try{\n            const routines = await updateRoutine(name, goal, id);\n            window.location.reload()\n        } catch(error){\n            console.error\n        }\n    }\n\n\n    const handleDeleteRoutine = async (id) => {\n        try{\n            const routines = await deleteRoutine(id);\n            window.location.reload()\n        }catch (error){\n            console.error(error)\n        }\n    }\n\n    const handleActivityAdd = async (event) =>{\n        event.preventDefault();\n\n        const {duration, count} = durationCount;\n\n        try{\n\n            const response = await addActivityToRoutine(routineId, activityId, count, duration);\n\n            if(!response.id){\n                return alert('Error')\n            }\n\n            setRoutineId(null);\n            setDurationCount(null);\n            setActivityId(null)\n\n            window.location.reload()\n\n        } catch(error){\n            console.error(error)\n        }\n    }\n\n    const handleActivityUpdate = async (routineId, count, duration) => {\n        try{\n            const routines = await updateRoutineActivity(routineId, count, duration);\n            window.location.reload()\n        }catch (error){\n            console.error(error);\n        }\n    }\n\n    const handleActivityDelete = async (id) => {\n        try{\n            const activity = await deleteRoutineActivity(id);\n            window.location.reload()\n        } catch (error){\n            console.error(error);\n        }\n    }\n\n    const getUserRoutines = async () => {\n        if(!currentUser || !activities){\n            return;\n        }\n        try{\n            const routines = await userRoutines(currentUser);\n            // console.log('hhhh', routines)\n            setTheUserRoutines(routines);\n            // console.log('pop',theUserRoutines)\n        }catch (error) {\n            console.error(error);\n        }\n    }\n    \n    useEffect(getUserRoutines, [currentUser, activities])\n    \n\n\n    if(!loggedIn){\n        alert('Log in to view My Routines')\n        return <Redirect to ='/' />;\n    }else{\n\n    return(\n        <>\n        {/* <div> */}\n        <h1 className = 'myroutinestitle'>My Routines</h1>\n        {/* </div> */}\n\n\n        {/* {showEdit ? <EditRoutine showEdit = {showEdit} setShowEdit = {setShowEdit}/> : null} */}\n\n        <div className = 'myroutines'>\n        {theUserRoutines ? (\n            theUserRoutines.map((routine, index) => {\n                return (\n                    <div className = 'myroutinecell' key = {index}>\n                        <h2>{routine.name}</h2>\n                        <h3>{routine.goal}</h3>\n                    \n                \n                {/* <button type = 'button' className = 'edit' onClick = {() => makeEdit()}> */}\n                <button type = 'button' className = 'edit' onClick = {() => handleUpdate(routine.name, routine.goal, routine.id)}>\n                    Edit Routine Name or Goal\n                </button>\n\n                <button type ='button' className = 'delete' \n                onClick = {() => handleDeleteRoutine(routine.id)}\n                >\n                    Delete Routine\n                </button>\n\n\n                {routine.activities[0] ? (\n                    routine.activities.map((activity, index) => {\n                        return(\n                            <ul className = 'details' key={index}>\n                                <li> <span>Activity: {activity.name}</span> </li>\n                                <li><span>ID: {activity.routineActivityId }</span></li>\n                                <li><span>Description: {activity.description} </span></li>\n                                <li><span> Duration: {activity.duration}</span> </li>\n                                <li><span>Count: {activity.count} </span></li>\n\n                                <button type = 'button' \n                                onClick = {() =>handleActivityUpdate(activity.routineActivityId, activity.duration, activity.count)}>\n                                    Update Duration or Count\n                                </button>\n\n                                <button type = 'button'\n                                onClick = {() => handleActivityDelete(activity.routineActivityId)}>\n                                    Delete Routine Activity\n                                </button>\n\n                            </ul>\n                        )\n                    })\n                ) : <h3>No activities for this routine</h3>}\n                \n\n                \n                <form onSubmit = {handleActivityAdd}>\n                    <label>Add Routine Activity:</label>\n                    <select name ='Activities' id = 'selectactivity' \n                    value = {activityId} \n                    onChange = {(event) => {setRoutineId(routine.id); setActivityId(event.target.value); return}}>\n                        \n                        <option className = 'dropdown' value ='null'>Select Activity</option>\n                        {\n                            activities.map((activity, index) => {\n                                return (\n                                    <option key = {index} value = {activity.id}>\n                                        {activity.name}\n                                    </option>\n                                )\n                            })\n                        }\n\n                    </select>\n\n                    <label>Count:</label>\n                    <input type = 'number' min = '1' placeholder ='Count' \n                    onChange = {(event) => setDurationCount({...durationCount, count: event.target.value})}\n                    />\n                    \n\n\n                    <label>Duration:</label>\n                    <input type = 'number' min = '1' placeholder = 'Duration'\n                    onChange = {(event) => setDurationCount({...durationCount, duration: event.target.value})}\n                    />\n                    \n                    <button className = 'addroutine' type = 'submit'>Submit</button>\n                </form>\n\n                </div>\n                \n                )\n            })\n        ): <h2>No routines made by you</h2>}\n\n        </div>\n\n        </>\n    )\n}\n}\nexport default MyRoutines;"]},"metadata":{},"sourceType":"module"}