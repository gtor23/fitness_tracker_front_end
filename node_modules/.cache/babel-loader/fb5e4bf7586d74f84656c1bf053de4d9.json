{"ast":null,"code":"import _objectSpread from\"/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(props){var loggedIn=props.loggedIn,setIsLoggedIn=props.setIsLoggedIn;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];// const [ password, setPassword] = useState('')\n// console.log('blah',user);\nvar handleRegister=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('http://fitnesstrac-kr.herokuapp.com/api/users/register',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({username:user.username,password:user.password})// }).then(response => response.json())\n// .then(result => {\n//     console.log(result);\n//     if (result.token){\n//         alert('Thank you for signing up!');\n//         setIsLoggedIn(result.token)\n//         // setAuthorized(true)\n//     }else{\n//         alert(result.message)\n//     }\n// })\n// .catch(console.error);\n});case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;// console.log(result)\nif(result.token){alert('Thank you for signing up!');setIsLoggedIn(result.token);// setAuthorized(true)\n}else{alert(result.message);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleRegister(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"formreg\",onSubmit:handleRegister,children:[/*#__PURE__*/_jsx(\"label\",{className:\"d2\",children:\" Register: \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"registration\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"credential1\",placeholder:\"username\",onChange:function onChange(event){return setUser(_objectSpread(_objectSpread({},user),{},{username:event.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"credential2\",placeholder:\"password\",onChange:function onChange(event){return setUser(_objectSpread(_objectSpread({},user),{},{password:event.target.value}));}}),/*#__PURE__*/_jsx(\"button\",{className:\"b1\",type:\"submit\",children:\" Create \"})]})]});};export default Register;","map":{"version":3,"sources":["/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/src/components/register.js"],"names":["React","useState","Register","props","loggedIn","setIsLoggedIn","user","setUser","handleRegister","event","preventDefault","fetch","method","headers","body","JSON","stringify","username","password","response","json","result","token","alert","message","target","value"],"mappings":"4wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,wFAIA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CACxB,GAAOC,CAAAA,QAAP,CAAkCD,KAAlC,CAAOC,QAAP,CAAiBC,aAAjB,CAAkCF,KAAlC,CAAiBE,aAAjB,CACA,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA;AAEA;AAIA,GAAMC,CAAAA,cAAc,0FAAG,iBAAOC,KAAP,sIACnBA,KAAK,CAACC,cAAN,GADmB,sBAEEC,CAAAA,KAAK,CAAC,wDAAD,CAA2D,CACrFC,MAAM,CAAE,MAD6E,CAErFC,OAAO,CAAE,CACL,eAAgB,kBADX,CAF4E,CAKrFC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,QAAQ,CAAEX,IAAI,CAACW,QADE,CAEjBC,QAAQ,CAAEZ,IAAI,CAACY,QAFE,CAAf,CAIN;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBqF,CAA3D,CAFP,QAEfC,QAFe,qCA4BEA,CAAAA,QAAQ,CAACC,IAAT,EA5BF,QA4BbC,MA5Ba,eA6BnB;AAEA,GAAIA,MAAM,CAACC,KAAX,CAAiB,CACTC,KAAK,CAAC,2BAAD,CAAL,CACAlB,aAAa,CAACgB,MAAM,CAACC,KAAR,CAAb,CACA;AACH,CAJL,IAIS,CACDC,KAAK,CAACF,MAAM,CAACG,OAAR,CAAL,CACH,CArCc,sDAAH,kBAAdhB,CAAAA,cAAc,4CAApB,CAyCA,mBACI,cAAM,SAAS,CAAG,SAAlB,CAA4B,QAAQ,CAAIA,cAAxC,wBAGI,cAAO,SAAS,CAAG,IAAnB,yBAHJ,cAII,aAAK,SAAS,CAAG,cAAjB,wBACI,cAAO,IAAI,CAAE,MAAb,CAAoB,SAAS,CAAG,aAAhC,CACA,WAAW,CAAG,UADd,CACyB,QAAQ,CAAI,kBAACC,KAAD,QAAWF,CAAAA,OAAO,gCAAKD,IAAL,MAAWW,QAAQ,CAACR,KAAK,CAACgB,MAAN,CAAaC,KAAjC,GAAlB,EADrC,EADJ,cAII,cAAO,IAAI,CAAE,UAAb,CAAwB,SAAS,CAAG,aAApC,CACA,WAAW,CAAG,UADd,CAC0B,QAAQ,CAAI,kBAACjB,KAAD,QAAWF,CAAAA,OAAO,gCAAKD,IAAL,MAAWY,QAAQ,CAACT,KAAK,CAACgB,MAAN,CAAaC,KAAjC,GAAlB,EADtC,EAJJ,cAOI,eAAQ,SAAS,CAAG,IAApB,CAAyB,IAAI,CAAE,QAA/B,sBAPJ,GAJJ,GADJ,CAiBC,CAnEL,CAoEA,cAAexB,CAAAA,QAAf","sourcesContent":["import React, { useState } from 'react';\n\n\n\nconst Register = (props) => {\n    const {loggedIn, setIsLoggedIn} = props;\n    const [user, setUser] = useState('')\n    // const [ password, setPassword] = useState('')\n\n    // console.log('blah',user);\n\n\n    \n    const handleRegister = async (event) => {\n        event.preventDefault();\n      const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/users/register', {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n            username: user.username,\n            password: user.password\n        })\n        // }).then(response => response.json())\n        // .then(result => {\n        //     console.log(result);\n\n        //     if (result.token){\n        //         alert('Thank you for signing up!');\n        //         setIsLoggedIn(result.token)\n        //         // setAuthorized(true)\n        //     }else{\n        //         alert(result.message)\n        //     }\n        // })\n        // .catch(console.error);\n\n\n        })\n\n        const result = await response.json();\n        // console.log(result)\n\n        if (result.token){\n                alert('Thank you for signing up!');\n                setIsLoggedIn(result.token)\n                // setAuthorized(true)\n            }else{\n                alert(result.message)\n            }\n    }\n\n\n    return(\n        <form className = 'formreg' onSubmit = {handleRegister} >\n\n            {/* <h1> Register</h1> */}\n            <label className = 'd2'> Register: </label>\n            <div className = 'registration'>\n                <input type ='text' className = 'credential1' \n                placeholder = 'username' onChange = {(event) => setUser({...user, username:event.target.value})} />\n\n                <input type ='password' className = 'credential2' \n                placeholder = 'password'  onChange = {(event) => setUser({...user, password:event.target.value})}/>\n                \n                <button className = 'b1' type ='submit'> Create </button>\n            </div>\n        </form>\n    )\n\n    }\nexport default Register"]},"metadata":{},"sourceType":"module"}