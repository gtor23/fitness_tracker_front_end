{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{createRoutines,allRoutines}from'../api';import{Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MakeRoutines=function MakeRoutines(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),newRoutine=_useState2[0],setNewRoutine=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),finished=_useState4[0],setFinished=_useState4[1];var handleMake=function handleMake(event){event.preventDefault();var _event$target=_slicedToArray(event.target,2),name=_event$target[0],goal=_event$target[1];if(name.value&&goal.value){var addRoutine={name:name.value,goal:goal.value,isPublic:true};setNewRoutine(addRoutine);}else{alert('All fields must be filled in');}};useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!newRoutine){_context.next=15;break;}_context.prev=1;_context.next=4;return createRoutines(newRoutine);case 4:response=_context.sent;console.log('cap',response);setFinished(true);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 12:_context.prev=12;// <Redirect to = '/' />\nwindow.location.reload();return _context.finish(12);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,9,12,15]]);})),[newRoutine]);if(finished){// return <Redirect to ='/' />\nwindow.location.reload();}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"makeroutine\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"createrotuinetitle\",children:\" Create Routine\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"routineform\",onSubmit:handleMake,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Goal:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})]})});}};export default MakeRoutines;","map":{"version":3,"sources":["/Users/jtorres/UIC Bootcamp/Projects/fitness_tracker/fitness_tracker_frontend/src/components/makeroutines.js"],"names":["React","useState","useEffect","createRoutines","allRoutines","Redirect","MakeRoutines","newRoutine","setNewRoutine","finished","setFinished","handleMake","event","preventDefault","target","name","goal","value","addRoutine","isPublic","alert","response","console","log","error","window","location","reload"],"mappings":"ykBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CAEA,OAAQC,cAAR,CAAwBC,WAAxB,KAA0C,QAA1C,CAEA,OAAQC,QAAR,KAAuB,kBAAvB,C,6IAGA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAK,CAEtB,cAAoCL,QAAQ,EAA5C,wCAAOM,UAAP,eAAmBC,aAAnB,eACA,eAAgCP,QAAQ,CAAC,KAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC1BA,KAAK,CAACC,cAAN,GAEA,iCAAqBD,KAAK,CAACE,MAA3B,IAAOC,IAAP,kBAAaC,IAAb,kBAEA,GAAGD,IAAI,CAACE,KAAL,EAAcD,IAAI,CAACC,KAAtB,CAA4B,CACxB,GAAMC,CAAAA,UAAU,CAAG,CACfH,IAAI,CAAEA,IAAI,CAACE,KADI,CAEfD,IAAI,CAAEA,IAAI,CAACC,KAFI,CAGfE,QAAQ,CAAE,IAHK,CAAnB,CAMAX,aAAa,CAACU,UAAD,CAAb,CACH,CARD,IAQK,CACDE,KAAK,CAAC,8BAAD,CAAL,CACH,CACJ,CAhBD,CAkBAlB,SAAS,sEAAC,oJACFK,UADE,gEAGyBJ,CAAAA,cAAc,CAACI,UAAD,CAHvC,QAGQc,QAHR,eAIEC,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAkBF,QAAlB,EACAX,WAAW,CAAC,IAAD,CAAX,CALF,+EAOEY,OAAO,CAACE,KAAR,cAPF,yBASE;AACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAVF,qGAAD,GAaN,CAACpB,UAAD,CAbM,CAAT,CAeA,GAAIE,QAAJ,CAAa,CACT;AACAgB,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CAHD,IAGK,CAED,mBACI,sCACA,aAAK,SAAS,CAAG,aAAjB,wBACA,WAAI,SAAS,CAAG,oBAAhB,6BADA,cAEA,cAAM,SAAS,CAAG,aAAlB,CAAgC,QAAQ,CAAIhB,UAA5C,wBACI,gCADJ,cAEI,cAAO,IAAI,CAAE,MAAb,EAFJ,cAII,gCAJJ,cAKI,cAAO,IAAI,CAAE,MAAb,EALJ,cAOI,eAAQ,IAAI,CAAE,QAAd,oBAPJ,GAFA,GADA,EADJ,CAgBH,CAEJ,CA7DD,CA+DA,cAAeL,CAAAA,YAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\n\nimport {createRoutines, allRoutines} from '../api'\n\nimport {Redirect} from 'react-router-dom'\n\n\nconst MakeRoutines = () =>{\n\n    const [newRoutine, setNewRoutine] = useState();\n    const [finished, setFinished] = useState(false);\n\n    const handleMake = (event) => {\n        event.preventDefault();\n\n        const [name, goal] = event.target;\n\n        if(name.value && goal.value){\n            const addRoutine = {\n                name: name.value,\n                goal: goal.value,\n                isPublic: true\n            };\n\n            setNewRoutine(addRoutine);\n        }else{\n            alert('All fields must be filled in')\n        }\n    }\n\n    useEffect(async () => {\n        if (newRoutine){\n            try{\n                const response = await createRoutines(newRoutine);\n                console.log('cap',response)\n                setFinished(true)\n            }catch (error){\n                console.error(error)\n            }finally{\n                // <Redirect to = '/' />\n                window.location.reload()\n            }\n        }\n    }, [newRoutine])\n    \n    if (finished){\n        // return <Redirect to ='/' />\n        window.location.reload()\n    }else{\n\n        return (\n            <>\n            <div className = 'makeroutine'>\n            <h1 className = 'createrotuinetitle'> Create Routine</h1>\n            <form className = 'routineform' onSubmit = {handleMake}>\n                <label>Name:</label>\n                <input type ='text' />\n\n                <label>Goal:</label>\n                <input type ='text' />\n\n                <button type ='submit'>Submit</button>\n            </form>\n            </div>\n            </>\n        )\n    }\n\n}\n\nexport default MakeRoutines"]},"metadata":{},"sourceType":"module"}